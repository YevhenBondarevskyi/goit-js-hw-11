{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function getImagesByQuery(query) {\n    const API_KEY = '51053325-3e2bfd05922f90ae0c618f7f8';\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n    \n    return axios(`https://pixabay.com/api/?${params}`)\n    .then(response => response.data)\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\"\n})\n\nexport function createGallery(images) {\n    const markUp = images.map(item => `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n        <img\n        class=\"gallery-img\"\n        src=\"${item.webformatURL}\"\n        alt=\"${item.tags}\"\n        width=\"360\" />\n        </a>\n        <div class=\"descr\">\n       <p class=\"descr-label\">Likes <span class=\"descr-span\">${item.likes}</span></p>\n       <p class=\"descr-label\">Views <span class=\"descr-span\">${item.views}</span></p>\n       <p class=\"descr-label\">Comments <span class=\"descr-span\">${item.comments}</span></p>\n       <p class=\"descr-label\">Downloads <span class=\"descr-span\">${item.downloads}</span></p>\n       </div>\n        </li>\n        `).join(\"\");\n    \n        galleryList.innerHTML = markUp;\n        lightbox.refresh();\n};\n\nexport function clearGallery() {\n    galleryList.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n    loader.style.display = 'none';\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst formEl = document.querySelector(\".form\");\nconst inputEl = document.querySelector(\"input\");\n\nformEl.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const query = inputEl.value.toLowerCase().trim();\n    if (!query) return;\n    \n    clearGallery();\n    showLoader();\n    getImagesByQuery(query)\n        .then(data => {\n            if (data.hits.length > 0) {\n                createGallery(data.hits);\n                inputEl.value = \"\";\n            } else {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                });\n            };\n        })\n        .catch(error => {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong. Please, try again!\",\n                position: \"topRight\",\n            });\n        })\n        .finally(() => hideLoader()); \n};"],"names":["getImagesByQuery","query","API_KEY","params","axios","response","galleryList","loader","lightbox","SimpleLightbox","createGallery","images","markUp","item","clearGallery","showLoader","hideLoader","formEl","inputEl","handleSubmit","event","data","iziToast","error"],"mappings":"+vBAEO,SAASA,EAAiBC,EAAO,CACpC,MAAMC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAOG,EAAM,4BAA4BD,CAAM,EAAE,EAChD,KAAKE,GAAYA,EAAS,IAAI,CACnC,CCZA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GAAQ;AAAA;AAAA,wCAEEA,EAAK,aAAa;AAAA;AAAA;AAAA,eAG3CA,EAAK,YAAY;AAAA,eACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,+DAIuCA,EAAK,KAAK;AAAA,+DACVA,EAAK,KAAK;AAAA,kEACPA,EAAK,QAAQ;AAAA,mEACZA,EAAK,SAAS;AAAA;AAAA;AAAA,SAGxE,EAAE,KAAK,EAAE,EAEVP,EAAY,UAAYM,EACxBJ,EAAS,QAAO,CACxB,CAEO,SAASM,GAAe,CAC3BR,EAAY,UAAY,EAC5B,CAEO,SAASS,GAAa,CACzBR,EAAO,MAAM,QAAU,OAC3B,CAEO,SAASS,GAAa,CACzBT,EAAO,MAAM,QAAU,MAC3B,CCtCA,MAAMU,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,OAAO,EAE9CD,EAAO,iBAAiB,SAAUE,CAAY,EAE9C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMnB,EAAQiB,EAAQ,MAAM,YAAa,EAAC,KAAI,EACzCjB,IAELa,IACAC,IACAf,EAAiBC,CAAK,EACjB,KAAKoB,GAAQ,CACNA,EAAK,KAAK,OAAS,GACnBX,EAAcW,EAAK,IAAI,EACvBH,EAAQ,MAAQ,IAEhBI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EAER,EACA,MAAMC,GAAS,CACZD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2CACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAMN,EAAU,CAAE,EACnC"}